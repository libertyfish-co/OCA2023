## 4.6 Ruby on Rails：Rails基礎 1

## 目次

- [Railsの基本的な知識](#railsの基本的な知識)  
  - [Railsとは？](#railsとは)
  - [サーバーとクライアントの関係](#サーバーとクライアントの関係)
  - [インターネットの概要](#インターネット概要)
  - [プロトコルとは？](#プロトコルとは)
  - [よく使用されるプロトコル](#よく使用されるプロトコル)





## Railsの基本的な知識

### Railsとは？
<img src="images/Rails基礎/Rails画像.png" width="300px">

Railsは、デビッド・ハイネマイヤー・ハンソン（David Heinemeier Hansson）が作った、Rubyでの開発を簡単にするツールです。

#### Railsの特徴は？

- **Rubyで作られた開発ツール**  
  Rubyを使って作られた、Ruby専用の**フレームワーク**です。  
  開発を簡単にしてくれるツールで、効率よくWebアプリを作ることができます。

- **MVC構造に基づいて設計されている**  
  アプリケーションの構成を「**データ**」、「**表示**」、「**操作**」に分けて管理します。  
  これにより、開発が効率的になり、コードの整理や管理がしやすくなります。

- **簡単にプログラミングできる**  
   アプリの開発を**速く**、**簡単**に、**効率的**にするためのツールをたくさん提供しています。  
   そのため、初心者にとって学びやすい**フレームワーク**とされています。


#### どんな考えで動くの？
Railsは「**Convention over Configuration**（設定より規約）」  
「**決められたルールに従えば、特別な設定なしで自動的に動作する**」という考え方です。  

例えば、お店で商品を注文したときをイメージしてください。  

**「メニューから料理を選び」**、**「店員さんに料理を頼む」**と、あとは**自動的に料理が作られて提供**されますよね。

Railsも同じように、「**決まった名前**」や「**ルール**」に従うだけで、**自動で必要な処理**が行われます。  
この仕組みにより、開発者は余計な作業や手間を考えずに、スムーズに開発を進められます。








【DRY】
  `DRY`とは、"Don’t Repeat Yourself"の略称です。
  プログラミングを行う際に心がける理念の１つであり、
  "同じような記述を繰り返してはいけない"といった意味になります。

全く同じコードや似たようなコードがあちこちに散らばっていると、後々メンテナンスをする際に、全て変更するのに時間がかかったり、カバー漏れで不具合が出てしまうことになりかねません。
  そうならないためにも、出来るだけまとめられるものは一箇所にまとめて管理しておこう、という考え方です。
  <br>

【CoC】
`CoC`とは、"Convention over Configuration"の略称です。
意味は"設定より規約"で、従来のフレームワークのように設定を大量に記述するのではなく、
個々の設定に悩むより規約をあらかじめ決めておいて、開発者はロジックを考えることに専念できるようにしよう、というアプリ開発の思想の１つです。

具体的に言えば、Railsでは、あらかじめ名前付けのルールが用意されています。
例えば、次のコマンドを実行すると、ModelはUser(単数形)、DBのテーブル名はusers(複数形)で作成されるルールがあります。

```sh
$ rails generate model user
```

このような厳格なルールがあるため、命名規則等を熟考をしなくてよくなるだけでなく、
アプリの構造自体がシンプルになったり、他の開発者との意思疎通が容易になったりと、良い面が多くあります。
<br>

Railsにはこれらを補助する機能が備わっています。
活用していけば、とても心強い味方になってくれるでしょう。

### 4.6.2 Cloud9上でRailsアプリケーションを作成

#### 4.6.2.1 作業フォルダの作成
まずは作業場所となるフォルダを作成しましょう。

作業フォルダが出来たら、続いてRailsのインストールに移りましょう。

#### 4.6.2.2 Railsアプリの作成
それでは早速、インストールしたRailsを使用してアプリを作成しましょう。
アプリの作成は以下のコマンドで行います。
```sh
$ rails new <アプリケーション名>
```

実際にコマンドを実行してみましょう。
```sh
$ rails new railsbasic
```

これで"railsbasic"という名前のアプリ（プロジェクト）の雛形が出来上がります。
コマンドを実行すると以下のように、フォルダやファイルが大量に生成されているはずです。

 ![フォルダ](images/05-1-1.png)

こう見ると何だかややこしそうですが、初めからこの全てを理解する必要はありません。
必要な部分や重要な部分は後ほど解説します。

今後の操作はアプリの中で行いたいので、以下のコマンドでディレクトリを移動しておきましょう。
```sh
$ cd railsbasic
```

次に以下のコマンドを実行してみてください。
```sh
$ rails db:create
```

`rails`はRailsで使えるコマンドで、DB操作やテストの一括実施等が出来ます。
上記のコマンドはDB操作で、一番最初のDBを作成するコマンドです。
まだ中身は空っぽですが、これで一応接続先のDBが作成できました。

実はこの状態で、もう既にアプリとして最低限の機能は使えるようになっています。
試しに以下のコマンドを実行してみてください。
```sh
$ rails server
```

`rails server`がRailsアプリを起動するコマンドです。  
ブラウザのアドレスバーに`http://localhost:3000`と入力することでブラウザで画面が表示されます。  
まだデフォルトの画面が表示されるだけですが、きちんと表示されましたか？  
ここをベースにアプリを作成していくことになります。  
`ctrl + c`で起動しているアプリを終了できます。  
後ろに部分はオプションを付けることができます。以下のコマンドを実行してみましょう。  
また、`rails server`は`rails s`と省略することができます。  

```sh
$ rails s -b 0.0.0.0 -p 8080
```

`-b 0.0.0.0`はbindオプションで、IPアドレス等を制御します。
`-p 8080`はportオプションで、アクセスポート番号を指定します。

こちらはブラウザのアドレスバーに`http://localhost:8080`と入力することでブラウザで画面が表示されます。

ここで、`rails`コマンドについてもう少し調べてみましょう。
以下のコマンドを実行してみてください。
```sh
$ rails --help
```

次の一覧が表示されます。

```sh
about
action_mailbox:ingress:exim
action_mailbox:ingress:postfix
action_mailbox:ingress:qmail
action_mailbox:install
action_mailbox:install:migrations
action_text:install
action_text:install:migrations
active_storage:install
app:template
app:update
assets:clean[keep]
assets:clobber
assets:environment
assets:precompile
cache_digests:dependencies
cache_digests:nested_dependencies
credentials:diff
credentials:edit
credentials:show
db:create
・
・
・
```
